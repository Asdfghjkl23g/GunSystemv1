# GunSystem - ระบบปืนแบบครบวงจรสำหรับ Minecraft Paper Server

## ฟีเจอร์หลัก
✅ ปรับดาเมจได้ (ตัวเลข)
✅ กระสุนสากล (1 ชิ้นเติมเต็มแม็ก)
✅ อัตราการยิง (มีลิมิตไม่ให้ spam)
✅ รีโหลดอัตโนมัติ (ปรับเวลาได้)
✅ เสียงยิง (แยกแต่ละปืน)
✅ เสียงรีโหลด
✅ เอฟเฟกต์ (สะเก็ดไฟ + ควัน)
✅ ยิง Player และมอนสเตอร์ได้
✅ ไม่ทะลุบล็อค
✅ ตรวจเกราะลดดาเมจ (หัว + ตัว)
✅ GUI จัดการปืน (สร้าง/แก้ไข/ลบ)

## การติดตั้ง
1. ดาวน์โหลดไฟล์ `GunSystem-1.0.0.jar`
2. วางไฟล์ในโฟลเดอร์ `plugins` ของเซิร์ฟเวอร์
3. รีสตาร์ทเซิร์ฟเวอร์
4. ปลั๊กอินจะสร้างไฟล์ config อัตโนมัติ

## คำสั่ง
- `/gun` - เปิดเมนูจัดการปืน (ต้องมีสิทธิ์ Admin)
- `/givebullet <player> <amount>` - ให้กระสุนผู้เล่น

## สิทธิ์
- `gunsystem.admin` - จัดการระบบปืน (ค่าเริ่มต้น: OP)
- `gunsystem.use` - ใช้ปืน (ค่าเริ่มต้น: ทุกคน)

## วิธีใช้งาน

### สร้างปืนใหม่
1. พิมพ์ `/gun`
2. คลิก "สร้างปืนใหม่"
3. พิมพ์ ID ปืนในแชท (ตัวอย่าง: ak47, m4a1, pistol)
4. ระบบจะสร้างปืนให้อัตโนมัติ

### แก้ไขปืน
1. พิมพ์ `/gun`
2. คลิก "แก้ไขปืน"
3. เลือกปืนที่ต้องการแก้ไข
4. ปรับค่าต่างๆ:
   - **ดาเมจ**: คลิกซ้าย/ขวา เพื่อปรับ ±1, Shift+คลิก ±5
   - **กระสุน**: คลิกซ้าย/ขวา เพื่อปรับ ±1, Shift+คลิก ±5
   - **อัตราการยิง**: คลิกซ้าย/ขวา เพื่อปรับ ±50ms, Shift+คลิก ±200ms
   - **เวลารีโหลด**: คลิกซ้าย/ขวา เพื่อปรับ ±10 ticks, Shift+คลิก ±20 ticks
5. คลิก "บันทึก" เพื่อบันทึกการเปลี่ยนแปลง
6. คลิก "รับปืน" เพื่อรับปืนที่แก้ไข

### ลบปืน
1. พิมพ์ `/gun`
2. คลิก "ลบปืน"
3. เลือกปืนที่ต้องการลบ
4. คลิกเพื่อยืนยันการลบ (ไม่สามารถกู้คืนได้!)

### การใช้ปืน
1. ถือปืนไว้ในมือ
2. **คลิกขวา** เพื่อยิง
3. เมื่อกระสุนหมด ระบบจะรีโหลดอัตโนมัติ
4. ต้องมีกระสุนในกระเป๋าจึงจะรีโหลดได้

### การรับกระสุน
- `/givebullet <ชื่อผู้เล่น> <จำนวน>` - ให้กระสุนผู้เล่น
- กระสุน 1 ชิ้น = เติมกระสุนในปืนได้เต็มแม็ก

## ระบบดาเมจ

### การคำนวณดาเมจ
ดาเมจจะลดลงตามเกราะที่ผู้เล่นใส่:

**เกราะหัว/ตัว:**
- Netherite: ลด 40%
- Diamond: ลด 30%
- Iron: ลด 20%
- Chain/Gold: ลด 15%
- Leather: ลด 10%

### การตรวจสอบ
- ระบบตรวจสอบว่ายิงโดน**หัว**หรือ**ตัว**
- ยิงหัว = ตรวจเกราะหัว (Helmet)
- ยิงตัว = ตรวจเกราะตัว (Chestplate)

## เอฟเฟกต์และเสียง

### เอฟเฟกต์การยิง
- สะเก็ดไฟ (Flame Particle)
- ควัน (Smoke Particle)
- ประกายไฟ (Firework Particle)
- เอฟเฟกต์เลือดเมื่อโดนตัว
- เอฟเฟกต์บล็อคเมื่อโดนกำแพง

### เสียง
- เสียงยิง (ปรับแยกแต่ละปืน)
- เสียงรีโหลด
- เสียงรีโหลดเสร็จ

## ปืนตัวอย่าง (มีอยู่แล้วในระบบ)

### AK-47
- ดาเมจ: 7.0
- กระสุน: 30 นัด
- อัตราการยิง: 100ms (เร็ว)
- เวลารีโหลด: 3 วินาที

### Pistol
- ดาเมจ: 4.0
- กระสุน: 12 นัด
- อัตราการยิง: 150ms (ปานกลาง)
- เวลารีโหลด: 2 วินาที

### Sniper Rifle
- ดาเมจ: 15.0 (สูง!)
- กระสุน: 5 นัด
- อัตราการยิง: 800ms (ช้า)
- เวลารีโหลด: 4 วินาที

### Shotgun
- ดาเมจ: 6.0
- กระสุน: 6 นัด
- อัตราการยิง: 600ms (ช้าพอสมควร)
- เวลารีโหลด: 5 วินาที

## เสียงที่สามารถใช้ได้

คุณสามารถเปลี่ยนเสียงยิงได้โดยใช้ชื่อเสียงเหล่านี้:
- `ENTITY_GENERIC_EXPLODE` - เสียงระเบิด
- `ENTITY_FIREWORK_ROCKET_BLAST` - เสียงประทัด
- `ENTITY_LIGHTNING_BOLT_THUNDER` - เสียงฟ้าผ่า
- `ENTITY_BLAZE_HURT` - เสียงเบลซ
- `ITEM_TRIDENT_THROW` - เสียงขว้างตรีศูล
- `ENTITY_WITHER_SHOOT` - เสียง Wither ยิง
- และอื่นๆ (ดูเพิ่มเติมที่ Spigot API)

## ข้อกำหนด
- Minecraft: 1.20.4 ขึ้นไป
- Server: Paper/Purpur (รองรับ Crossplay)
- Java: 17 ขึ้นไป

## การปรับแต่งเพิ่มเติม

คุณสามารถแก้ไขไฟล์ `plugins/GunSystem/guns.yml` โดยตรงได้:

```yaml
guns:
  custom_gun:
    displayName: "ชื่อปืนของคุณ"
    damage: 10.0
    magazineSize: 25
    fireRate: 150
    reloadTime: 50
    shootSound: "ENTITY_GENERIC_EXPLODE"
    soundVolume: 1.5
    soundPitch: 1.0
    reloadSound: "ITEM_ARMOR_EQUIP_IRON"
```

## Tips & Tricks
1. อัตราการยิงต่ำ = ยิงเร็ว, สูง = ยิงช้า
2. 20 ticks = 1 วินาที
3. ใช้ Shift+คลิก เพื่อปรับค่าเร็วขึ้น
4. จำไว้ว่า 1 กระสุน = เติมเต็มแม็ก (ไม่ใช่ 1 นัด)
5. สามารถให้ผู้เล่นยิงกันเองได้ (PvP)

## การ Compile
```bash
cd GunSystem
mvn clean package
```
ไฟล์ .jar จะอยู่ในโฟลเดอร์ `target/`

## ผู้พัฒนา
สร้างด้วย ❤️ สำหรับ Minecraft Community

## License
MIT License - ใช้งานได้อย่างอิสระ
